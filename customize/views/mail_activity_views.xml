<?xml version="1.0" encoding="utf-8"?>
<odoo>

<record id="customize__mail_activity_view_search" model="ir.ui.view">
    <field name="name">customize_mail.activity.view.search</field>
    <field name="model">mail.activity</field>
    <field name="inherit_id" ref="mail.mail_activity_view_search"/>
    <field name="priority">1000</field>
    <field name="arch" type="xml">
        <field name="activity_type_id" position="after">
             <field name="res_name" string="Document Name" />
             <field name="activity_main_id" string="Main Activity"/>
        </field>

    <!-- todo: Make By Activiy Type       -->
        <xpath expr="//group" position="inside">
            <filter string="By Main Activity"
                    name="group_by_activity_main_id"
                    context="{'group_by': 'activity_main_id'}"/>
        </xpath>


    </field>
</record>

 <record id="mail_activity_view_tree_custom" model="ir.ui.view">
    <field name="name">mail.activity.view.tree.inherit.custom</field>
    <field name="model">mail.activity</field>
    <field name="inherit_id" ref="mail.mail_activity_view_tree"/>
    <field name="priority">1000</field>
    <field name="arch" type="xml">

        <xpath expr="//tree" position="attributes">
            <attribute name="import">true</attribute>
            <attribute name="create">true</attribute>
        </xpath>
         <field name="date_deadline" position="after">
             <field name="is_main_activity" string="Main Activity" />
            <field name="is_sub_activity" string="Sub Activity"  />
         </field>

    </field>
</record>


<record id="mail_activity_view_form_popup_custom" model="ir.ui.view">
    <field name="name">mail.activity.form.inherit.custom</field>
    <field name="model">mail.activity</field>
    <field name="inherit_id" ref="mail.mail_activity_view_form_popup"/>
    <field name="priority">1000</field>
    <field name="arch" type="xml">
        <field name="activity_type_id" position="before">
            <field name="create_uid" string="Organizer"/>
        </field>

        <field name="user_id" position="after">
            <field name="employee_id" string="Employee"/>
            <field name="user_ids"  string="Activity Users" widget="many2many_tags" options="{'color_field': 'color'}" />
        </field>



        <field name="note" position="after">
            <notebook groups="base.group_no_one">
                <page string="Activity Debug" name="page_activity_debug">
                    <p class="text-muted">
                        Information meant to be checked by the System Administrator and for debugging purposes.
                    </p>
                    <group>
                        <group>
                            <field name="activity_main_id" string="Main Activity" attrs="{'invisible': [('is_sub_activity', '=', 'False')]}"/>
                            <field name="activity_sub_ids" string="Sub Activity" widget="many2many_tags" attrs="{'invisible': [('is_main_activity', '=', 'False')]}"/>
                        </group>

                        <group>
                            <field name="is_main_activity" string="Main Activity" attrs="{'invisible': [('is_main_activity', '=', 'False')]}" />
                            <field name="is_sub_activity" string="Sub Activity" attrs="{'invisible': [('is_sub_activity', '=', 'False')]}"  groups="base.group_no_one"/>
                        </group>

                    </group>
                </page>
            </notebook>
        </field>

    </field>
</record>





</odoo>