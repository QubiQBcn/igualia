<?xml version="1.0" encoding="utf-8"?>
<odoo><data>

<!-- Partner Company Type -->
<record id="view_partner_company_type_tree" model="ir.ui.view">
    <field name="name">res.partner.company.type.tree</field>
    <field name="model">res.partner.company.type</field>
    <field name="arch" type="xml">
        <tree string="Partner Company Type" editable="bottom">
            <field name="name" string="Name"/>
            <field name="shortcut" string="Shortcut"/>
        </tree>
    </field>
</record>

<record id="view_partner_company_type_form" model="ir.ui.view">
    <field name="name">res.partner.company.type.form</field>
    <field name="model">res.partner.company.type</field>
    <field name="arch" type="xml">
        <form string="Partner Company Type">
            <sheet>
                <group col="4">
                    <field name="name" string="Name"/>
                    <field name="shortcut" string="Shortcut"/>
                </group>
            </sheet>
        </form>
    </field>
</record>

<record id="action_partner_company_type" model="ir.actions.act_window">
    <field name="name">Company Types</field>
    <field name="type">ir.actions.act_window</field>
    <field name="res_model">res.partner.company.type</field>
    <field name="domain">[]</field>
    <field name="context">{}</field>
    <field name="help">Manage the contact company types you want to have available in your system and the way you want to print them in letters and other documents. </field>
</record>

<menuitem
    id="menu_partner_company_type"
    action="action_partner_company_type"
    name="Company Types"
    parent="contacts.res_partner_menu_config"
    sequence="4"
/>

<menuitem
    id="sales_menu_partner_company_type"
    name="Company Types"
    parent="sale.menu_sale_config"
    action="action_partner_company_type"
    sequence="2"
/>



<record id="extra_features_gruposgp_view_res_partner_filter" model="ir.ui.view">
    <field name="name">extra.features.gruposgp_view_res.partner.select</field>
    <field name="model">res.partner</field>
    <field name="inherit_id" ref="base.view_res_partner_filter"/>
    <field name="arch" type="xml">
        <filter name="inactive" position="before">
            <filter name="sale_order_count_filter" string="With Sales Orders" 
            domain="[('sale_order_ids', '!=', False),('sale_order_ids.active', '=', True), ('sale_order_ids.state', '=', 'sale')]"/>

            <separator/>
        </filter>

    </field>
</record>

<!-- Partner -->
<record id="view_partner_form_extra_features" model="ir.ui.view">
    <field name="name">view.partner.form.extra.features</field>
    <field name="model">res.partner</field>
    <field name="inherit_id" ref="base.view_partner_form"/>
    <field name="priority">100</field>
    <field name="arch" type="xml">
        <field name="title" position="after">
            <field name="is_company" invisible="1"/>
            <field name="contact_company_type" string="Company Type"
            options="{'no_create': 1, 'no_edit': 1}" placeholder="e.g. Wholesaler" widget="many2one"
             attrs="{'invisible': [('is_company', '!=', True)]}"/>
        </field>


        <xpath expr="//group[@name='sale']" position="inside">
              <field name="customer_rank" string="Customer Rank" invisible="1"/>
             <field name="supplier_rank" string="Supplier Rank" invisible="1"/>
        </xpath>

         <xpath expr="//group[@name='fiscal_information']" position="attributes">
              <attribute name="groups">base.group_user</attribute>
        </xpath>

        <xpath expr="//notebook/page/field/kanban/field[@name='title']" position="after">
            <field name="is_company" invisible="1"/>
            <field name="contact_company_type" string="Company Type"
            attrs="{'invisible': [('is_company', '!=', True)]}"/>
        </xpath>

        <xpath expr="//notebook/page/field/form/sheet/group/group/field[@name='title']" position="after">
            <field name="is_company" invisible="1"/>
            <field name="contact_company_type" string="Company Type" placeholder="e.g. Wholesaler"
            attrs="{'invisible': [('is_company', '!=', True)]}"/>
        </xpath>

        <xpath expr="//field[@name='vat']" position="after">
            <field name="num_employees" string="Number of employees"
            attrs="{'invisible': [('is_company', '!=', True)]}"/>
            <field name="deal" string="Number of deals"
            attrs="{'invisible': [('is_company', '!=', True)]}"/>
        </xpath>


    </field>
</record>


<record id="view_partner_form_extra_features_group_sale_salesman" model="ir.ui.view">
    <field name="name">view.partner.form.extra.features_group_sale_salesman</field>
    <field name="model">res.partner</field>
    <field name="inherit_id" ref="base.view_partner_form"/>
    <field name="priority">100</field>
    <field name="groups_id" eval="[(4, ref('sales_team.group_sale_salesman'))]" />
    <field name="arch" type="xml">

        <xpath expr="//group[1]" position="inside">
             <field name="has_checklist" invisible="1"/>
             <group name="group_checklist_company" string="Check list"  invisible="1"
             attrs="{'invisible': [('has_checklist', '=', False)]}">

             <field name="check_list_ids" string="Check List" invisible="1" widget="one2many" attrs="{'invisible': [('has_checklist', '=', False)]}" readonly="1">
                    <tree create="0" delete="1" limit="1">
                         <field name="name" string="Name"/>
                    </tree>
                </field>
             </group>

            <group name="group_checklist_company_create" string="Check list" invisible="1"
            attrs="{'invisible': [('is_company', '=', False)]}">
                <button string="Create Checklist" name="action_create_checklist" type="object" class="oe_highlight"  attrs="{'invisible': [('has_checklist', '!=', False)]}" groups="base.group_partner_manager"/>
            </group>

            <group name="group_checklist_partner" string="Check list" invisible="1"
            attrs="{'invisible': ['|', ('is_company', '!=', False), ('has_checklist', '!=', False)]}">
                 <field name="company_check_list_ids" string="Check List" widget="one2many"  readonly="1">
                    <tree create="0" delete="1" limit="1">
                         <field name="name" string="Name"/>
                    </tree>
                </field>
            </group>

        </xpath>

        <page name="agent_information" position="inside">
            <group string="Creditor List">
                <field name="creditor_id_many2one_ids" widget="one2many_list" readonly="1"/>
            </group>
        </page>

        <field name="agent_ids" position="replace">
            <field name="agent_ids" attrs="{'invisible': [('agent', '=', True)]}" widget="many2one"/>
        </field>

    </field>
</record>

<!--  PARTNER | KANBAN  -->
<record id="res_partner_kanban_view_extra_features" model="ir.ui.view">
    <field name="name">res.partner.kanban.view.extra.features</field>
    <field name="model">res.partner</field>
    <field name="inherit_id" ref="base.res_partner_kanban_view"/>
    <field name="priority">100</field>
    <field name="arch" type="xml">
        <field name="title" position="after">
             <field name="is_company" invisible="1"/>
            <field name="contact_company_type" string="Company Type"
            attrs="{'invisible': [('is_company', '!=', True)]}"/>
        </field>


    </field>
</record>

<record id="res_partner_tree_view_extra_features" model="ir.ui.view">
    <field name="name">res.partner.tree.view.extra.features</field>
    <field name="model">res.partner</field>
    <field name="inherit_id" ref="base.view_partner_tree"/>
    <field name="priority">100</field>
    <field name="arch" type="xml">
        <field name="vat" position="after">
            <field name="num_employees" optional="hide"/>
            <field name="deal" optional="hide"/>
        </field>   
    </field>
</record>    

</data></odoo>