<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
<!-- Project types -->
<record id="project_type_search" model="ir.ui.view">
    <field name="name">project.project.type.search</field>
    <field name="model">project.project.type</field>
    <field name="arch" type="xml">
        <search string="Project Stages">
           <field name="name" string="Project Stages"/>
        </search>
    </field>
</record>

<record id="project_type_edit" model="ir.ui.view">
    <field name="name">project.project.type.form</field>
    <field name="model">project.project.type</field>
    <field name="arch" type="xml">
        <form string="Project Stage">
            <sheet>
                <group>
                    <group>
                        <field name="name"/>
                    </group>
                    <group>
                        <field name="fold"/>
                        <field name="project_ids" widget="many2many_tags" groups="base.group_no_one"/>
                        <field name="sequence" groups="base.group_no_one"/>
                    </group>
                </group>
                <group string="Stage Description and Tooltips">
                    <p class="text-muted" colspan="2">
                        At each stage employees can block or make Projects ready for next stage.
                        You can define here labels that will be displayed for the state instead
                        of the default labels.
                    </p>


                    <p class="text-muted" colspan="2">
                        You can also add a description to help your coworkers understand the meaning and purpose of the stage.
                    </p>
                    <field name="description" placeholder="Add a description..." nolabel="1" colspan="2"/>
                </group>

                 <separator string="Color" class="enterprise-override"/>
                <div class="oe_title">
                    <p class="text-muted">Choose a range color between 0 and 11. See the table below for the color.</p>
                    <h3><field name="color" placeholder="Enter a number..."/></h3>
                </div>
                    <!-- Colors: odoo/addons/web/static/src/scss/secondary_variables.scss-->
                    <p class="p-3 px-4 mb-2 ml-1 text-dark badge badge-pill bg-white" style="border: 1px solid #00000073;">0</p>
                    <p class="p-3 px-4 mb-2 ml-1 text-white badge badge-pill" style="background-color: #F06050;">1</p>
                    <p class="p-3 px-4 mb-2 ml-1 text-dark badge badge-pill"  style="background-color: #F4A460;">2</p>
                    <p class="p-3 px-4 mb-2 ml-1 text-white badge badge-pill" style="background-color: #F7CD1F;">3</p>
                    <p class="p-3 px-4 mb-2 ml-1 text-white badge badge-pill" style="background-color: #6CC1ED;">4</p>

                    <p class="p-3 px-4 mb-2 ml-1 text-white badge badge-pill" style="background-color: #814968;">5</p>
                    <p class="p-3 px-4 mb-2 ml-1 text-white badge badge-pill" style="background-color: #EB7E7F;">6</p>
                    <p class="p-3 px-4 mb-2 ml-1 text-white badge badge-pill" style="background-color: #2C8397;">7</p>
                    <p class="p-3 px-4 mb-2 ml-1 text-white badge badge-pill" style="background-color: #475577;">8</p>
                    <p class="p-3 px-4 mb-2 ml-1 text-white badge badge-pill" style="background-color: #D6145F;">9</p>
                    <p class="p-3 px-4 mb-2 ml-1 text-white badge badge-pill" style="background-color: #30C381;">10</p>
                    <p class="p-3 px-4 mb-2 ml-1 text-white badge badge-pill" style="background-color: #9365B8;">11</p>

            </sheet>
        </form>
    </field>
</record>

<record id="project_type_tree" model="ir.ui.view">
    <field name="name">project.project.type.tree</field>
    <field name="model">project.project.type</field>
    <field name="arch" type="xml">
        <tree string="Project Stage" >
            <field name="sequence" widget="handle" groups="base.group_no_one"/>
            <field name="name"/>
            <field name="fold"/>
            <field name="description"/>
            <field name="color" />
        </tree>
    </field>
</record>

<record id="view_project_project_type_kanban" model="ir.ui.view">
    <field name="name">project.project.type.kanban</field>
    <field name="model">project.project.type</field>
    <field name="arch" type="xml">
        <kanban class="o_kanban_mobile">
            <field name="name"/>
            <field name="fold"/>
            <field name="description"/>
            <templates>
                <t t-name="kanban-box">
                    <div t-attf-class="oe_kanban_global_click">
                        <div class="row">
                            <div class="col-12">
                                <strong><t t-esc="record.name.value"/></strong>
                            </div>
                        </div>
                        <t t-if="record.description.value">
                            <hr class="mt8 mb8"/>
                            <t t-esc="record.description.value"/>
                        </t>
                    </div>
                </t>
            </templates>
        </kanban>
    </field>
</record>

<record id="open_project_type_form" model="ir.actions.act_window">
    <field name="name">Project Stages</field>
    <field name="res_model">project.project.type</field>
    <field name="view_mode">tree,kanban,form</field>
    <field name="view_id" ref="project_type_tree"/>
    <field name="help" type="html">
      <p class="o_view_nocontent_smiling_face">
        Create a new stage in the project pipeline
      </p><p>
        Define the steps that will be used in the project.
        You will use these stages in order to track the progress in
        solving a project or an issue.
      </p>
    </field>
</record>

<menuitem
        id="menu_project_config_project_stages"
        name="Stages"
        parent="project.menu_project_config"
        sequence="3"
        groups="base.group_no_one"
/>
<!--Overrides the original project.task.type menu-->


    <menuitem
            id="menu_project_config_project"
            name="Projects Stages"
            parent="menu_project_config_project_stages"
            sequence="1"
            groups="base.group_no_one"
            action="open_project_type_form"
    />

    <menuitem
            id="project.menu_project_config_project"
            name="Tasks Stages"
            parent="menu_project_config_project_stages"
            sequence="2"
            groups="base.group_no_one"
            action="project.open_task_type_form"
    />



</odoo>