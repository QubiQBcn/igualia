<?xml version="1.0" encoding="utf-8"?>
<odoo>
<template id="extra_features_gruposgp_registration_attendee_details" inherit_id="website_event.registration_attendee_details" >

    <!-- Attendee specific questions -->
    <xpath expr="//t[@name='attendee_loop']/div[hasclass('modal-body')]/div[hasclass('row')]" position="replace">
         <div class="row">
             <div class="col-lg my-2">
                <label>Name</label>
                <input class="form-control" type="text" t-attf-name="#{counter}-name" required="This field is required"/>
            </div>
            <div class="col-lg my-2">
                <label>Email</label>
                <input class="form-control" type="email" t-attf-name="#{counter}-email" required="This field is required"/>
            </div>
            <div class="col-lg my-2">
                <label>Phone</label>
                <input class="form-control" type="tel" t-attf-name="#{counter}-phone" required="This field is required"/>
            </div>

             <div class="col-lg my-2">
                <label>Company  </label>
                <input class="form-control" type="text" t-attf-name="#{counter}-comment" required="This field is required"/>
            </div>

            <div class="col-lg my-2">
                <label>Job Title </label>
                <input class="form-control" type="text" t-attf-name="#{counter}-function" required="This field is required"/>
            </div>
            <input class="d-none" type="text" t-attf-name="#{counter}-ticket_id" t-attf-value="#{ticket['id']}"/>
         </div>
    </xpath>

</template>


<template id="extra_features_gruposgp_registration_complete" inherit_id="website_event.registration_complete" >


    <xpath expr="//div[hasclass('col-12')]" position="replace">
        <t t-if="len(attendees)">
            <div class="col-12">
                <div class="alert alert-success" role="alert">
                   <h2>Registration confirmed!</h2>
                </div>
                <table class="table table-striped my-4">
                    <thead class="bg-secondary">
                        <tr>
                            <th>Name</th>
                            <th>E-mail</th>
                            <th>Phone</th>
                            <th>Reference</th>
                            <th>Company</th>
                            <th>Job Title</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="attendees" t-as="attendee">
                            <tr>
                                <td><t t-if="attendee.name" t-esc="attendee.name"/><t t-else="">N/A</t></td>
                                <td><t t-if="attendee.email" t-esc="attendee.email"/><t t-else="">N/A</t></td>
                                <td><t t-if="attendee.phone" t-esc="attendee.phone"/><t t-else="">N/A</t></td>
                                <td><t t-esc="attendee.id"/></td>
                                <td><t t-if="attendee.company_name" t-esc="attendee.company_name"/><t t-else="">N/A</t></td>
                                <td><t t-if="attendee.function" t-esc="attendee.function"/><t t-else="">N/A</t></td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>
        </t>

        <t t-if="len(exist_users)">
            <div class="col-12">
                <div class="alert alert-danger" role="alert">
                    <h2>These Attendees could not be registered at the event!</h2>
                    <p>The email address must be unique per-Event, these emails below have been already registered.</p>
                </div>

                <table class="table table-striped my-4">
                    <thead class="bg-secondary">
                         <tr>
                            <th>Name</th>
                            <th>E-mail</th>
                            <th>Phone</th>
                            <th>Company</th>
                            <th>Job Title</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="exist_users" t-as="exist_user">
                           <tr>
                                <td><t t-if="exist_user.get('name')" t-esc="exist_user.get('name')"/><t t-else="">N/A</t></td>
                                <td><strong><t t-if="exist_user.get('email')" t-esc="exist_user.get('email')">(already registered)</t> <t t-else="">N/A</t></strong></td>
                                <td><t t-if="exist_user.get('phone')" t-esc="exist_user.get('phone')"/><t t-else="">N/A</t></td>
                                <td><t t-if="exist_user.get('company_name')" t-esc="exist_user.get('company_name')"/><t t-else="">N/A</t></td>
                                <td><t t-if="exist_user.get('function')" t-esc="exist_user.get('function')"/><t t-else="">N/A</t></td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>
        </t>

    </xpath>

</template>

</odoo>